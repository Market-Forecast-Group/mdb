<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_31) on Mon Feb 16 15:51:57 CET 2015 -->
<title>MDBSession (MFG Database (MDB))</title>
<meta name="date" content="2015-02-16">
<link rel="stylesheet" type="text/css" href="../../../../styles.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MDBSession (MFG Database (MDB))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":10,"i3":9,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":9,"i12":9,"i13":10,"i14":10,"i15":10,"i16":9,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":9,"i30":10,"i31":9,"i32":10,"i33":10,"i34":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MDBSession.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../overview.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/mfg/mdb/runtime/MDBList.html" title="class in org.mfg.mdb.runtime"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/mfg/mdb/runtime/SessionMode.html" title="enum in org.mfg.mdb.runtime"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/mfg/mdb/runtime/MDBSession.html" target="_top">Frames</a></li>
<li><a href="MDBSession.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.mfg.mdb.runtime</div>
<h2 title="Class MDBSession" class="title">Class MDBSession</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.mfg.mdb.runtime.MDBSession</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../org/mfg/mdb/demo/Demo_02_MDBSession.html" title="class in org.mfg.mdb.demo">Demo_02_MDBSession</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.54">MDBSession</a>
extends java.lang.Object</pre>
<div class="block">Base class for all the MDB sessions. Also it contains methods to manage MDB
 backups.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>arian</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#KEY_VERSION_PARTIAL_BACKUP">KEY_VERSION_PARTIAL_BACKUP</a></span></code>
<div class="block">The key for partial backup version.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#MDBSession-java.lang.String-java.io.File-java.util.Map-java.lang.String-">MDBSession</a></span>(java.lang.String&nbsp;sessionName,
          java.io.File&nbsp;root,
          java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;metadata,
          java.lang.String&nbsp;jsonSchema)</code>
<div class="block">Create a new session with READ_WRITE mode.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#MDBSession-java.lang.String-java.io.File-org.mfg.mdb.runtime.SessionMode-java.util.Map-java.lang.String-">MDBSession</a></span>(java.lang.String&nbsp;sessionName,
          java.io.File&nbsp;root,
          <a href="../../../../org/mfg/mdb/runtime/SessionMode.html" title="enum in org.mfg.mdb.runtime">SessionMode</a>&nbsp;mode,
          java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;signatures,
          java.lang.String&nbsp;jsonSchema)</code>
<div class="block">Create a new session.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#appenderRequested-org.mfg.mdb.runtime.MDB-">appenderRequested</a></span>(<a href="../../../../org/mfg/mdb/runtime/MDB.html" title="class in org.mfg.mdb.runtime">MDB</a>&lt;?&gt;&nbsp;mdb)</code>
<div class="block">This method is called by MDB generated classes.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#backup-java.io.File-java.lang.String-">backup</a></span>(java.io.File&nbsp;dbRoot,
      java.lang.String&nbsp;comment)</code>
<div class="block">Backup the whole database.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#backup-java.lang.String-">backup</a></span>(java.lang.String&nbsp;comment)</code>
<div class="block">Backup the current state of the database.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#backupFile-java.io.File-java.io.File-java.lang.String-">backupFile</a></span>(java.io.File&nbsp;dbRoot,
          java.io.File&nbsp;mdbFile,
          java.lang.String&nbsp;comment)</code>
<div class="block">Backup an MDB file.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#backupFile-java.io.File-java.lang.String-">backupFile</a></span>(java.io.File&nbsp;mdbFile,
          java.lang.String&nbsp;comment)</code>
<div class="block">Backup a particular MDB file.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#backupFile-org.mfg.mdb.runtime.MDB-java.lang.String-">backupFile</a></span>(<a href="../../../../org/mfg/mdb/runtime/MDB.html" title="class in org.mfg.mdb.runtime">MDB</a>&lt;?&gt;&nbsp;mdb,
          java.lang.String&nbsp;comment)</code>
<div class="block">Backup the file of the given MDB instance.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#close--">close</a></span>()</code>
<div class="block">Close the session.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#closeAndDelete--">closeAndDelete</a></span>()</code>
<div class="block">Close the session and delete all the files.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#cursorClosed-org.mfg.mdb.runtime.ICursor-">cursorClosed</a></span>(<a href="../../../../org/mfg/mdb/runtime/ICursor.html" title="interface in org.mfg.mdb.runtime">ICursor</a>&lt;?&gt;&nbsp;cursor)</code>
<div class="block">This method is called by MDB generated classes.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#cursorCreated-org.mfg.mdb.runtime.ICursor-">cursorCreated</a></span>(<a href="../../../../org/mfg/mdb/runtime/ICursor.html" title="interface in org.mfg.mdb.runtime">ICursor</a>&lt;?&gt;&nbsp;cursor)</code>
<div class="block">This method is called by MDB generated classes.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#defer-org.mfg.mdb.runtime.ICursor-">defer</a></span>(<a href="../../../../org/mfg/mdb/runtime/ICursor.html" title="interface in org.mfg.mdb.runtime">ICursor</a>&lt;?&gt;&nbsp;cursor)</code>
<div class="block">Defer a cursor.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#delete-java.io.File-">delete</a></span>(java.io.File&nbsp;tree)</code>
<div class="block">Utility method to delete a tree (a directory or file).</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#deleteBackup-org.mfg.mdb.runtime.BackupVersion-">deleteBackup</a></span>(<a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a>&nbsp;version)</code>
<div class="block">Delete the backup files.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#disconnect-org.mfg.mdb.runtime.MDB-">disconnect</a></span>(<a href="../../../../org/mfg/mdb/runtime/MDB.html" title="class in org.mfg.mdb.runtime">MDB</a>&lt;?&gt;&nbsp;mdb)</code>
<div class="block">
 Disconnect the MDB file from the session.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#flush--">flush</a></span>()</code>
<div class="block">Flush the session's appenders.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#getBackups--">getBackups</a></span>()</code>
<div class="block">Get all the backups.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static java.util.List&lt;<a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#getBackups-java.nio.file.Path-">getBackups</a></span>(java.nio.file.Path&nbsp;dbPath)</code>
<div class="block">Get all the backups of a database.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;java.io.File,<a href="../../../../org/mfg/mdb/runtime/MDB.html" title="class in org.mfg.mdb.runtime">MDB</a>&lt;?&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#getCache--">getCache</a></span>()</code>
<div class="block">Get the session cache.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#getCloseTimeoutMillis--">getCloseTimeoutMillis</a></span>()</code>
<div class="block">
 The close timeout milliseconds.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>java.io.File</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#getFile-java.lang.String-">getFile</a></span>(java.lang.String&nbsp;relPath)</code>
<div class="block">Get a file relative to the root of the database.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>java.io.File</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#getMetadataDir--">getMetadataDir</a></span>()</code>
<div class="block">The meta-data folder.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/mfg/mdb/runtime/SessionMode.html" title="enum in org.mfg.mdb.runtime">SessionMode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#getMode--">getMode</a></span>()</code>
<div class="block">The session mode.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#getOpenAppenderCount--">getOpenAppenderCount</a></span>()</code>
<div class="block">The number of open appenders in this session.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#getOpenCursorCount--">getOpenCursorCount</a></span>()</code>
<div class="block">Get the number of open cursors in this session.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>java.util.Properties</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#getProperties--">getProperties</a></span>()</code>
<div class="block">The properties of this database.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>java.io.File</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#getRoot--">getRoot</a></span>()</code>
<div class="block">The root of the database.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#getSessionName--">getSessionName</a></span>()</code>
<div class="block">The name of the session.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#isDebug--">isDebug</a></span>()</code>
<div class="block">If the session is in debug mode.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#isOpen--">isOpen</a></span>()</code>
<div class="block">If the session is open.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>static java.util.Properties</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#readBackupProperties-org.mfg.mdb.runtime.BackupVersion-">readBackupProperties</a></span>(<a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a>&nbsp;version)</code>
<div class="block">Read the database properties of a particular backup.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#restore-org.mfg.mdb.runtime.BackupVersion-">restore</a></span>(<a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a>&nbsp;version)</code>
<div class="block">
 Restore the session to the given version.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#restore-java.io.File-org.mfg.mdb.runtime.BackupVersion-">restore</a></span>(java.io.File&nbsp;dbRoot,
       <a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a>&nbsp;version)</code>
<div class="block">Restore a backup.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#saveProperties--">saveProperties</a></span>()</code>
<div class="block">Persist the properties.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#setCloseTimeoutMillis-long-">setCloseTimeoutMillis</a></span>(long&nbsp;closeTimeoutMillis)</code>
<div class="block">
 Set the close timeout in milliseconds.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mfg/mdb/runtime/MDBSession.html#setDebug-boolean-">setDebug</a></span>(boolean&nbsp;debug)</code>
<div class="block">Set debug mode.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="KEY_VERSION_PARTIAL_BACKUP">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>KEY_VERSION_PARTIAL_BACKUP</h4>
<pre>public static final&nbsp;java.lang.String <a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.60">KEY_VERSION_PARTIAL_BACKUP</a></pre>
<div class="block">The key for partial backup version.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.mfg.mdb.runtime.MDBSession.KEY_VERSION_PARTIAL_BACKUP">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MDBSession-java.lang.String-java.io.File-org.mfg.mdb.runtime.SessionMode-java.util.Map-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MDBSession</h4>
<pre>public&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.108">MDBSession</a>(java.lang.String&nbsp;sessionName,
                  java.io.File&nbsp;root,
                  <a href="../../../../org/mfg/mdb/runtime/SessionMode.html" title="enum in org.mfg.mdb.runtime">SessionMode</a>&nbsp;mode,
                  java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;signatures,
                  java.lang.String&nbsp;jsonSchema)
           throws java.io.IOException</pre>
<div class="block">Create a new session.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionName</code> - Session name, used only as a name.</dd>
<dd><code>root</code> - The database folder.</dd>
<dd><code>mode</code> - Session mode used to assert a correct use of the session.</dd>
<dd><code>signatures</code> - The signature of the schema, used to validate if the database
            is readable by this session. This information is generated by
            the compiler.</dd>
<dd><code>jsonSchema</code> - The schema in JSON format. It is generated by the compiler and
            saved into the database, then external tools can read the
            files without create a session.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files. If
             there is any problem writing/reading session files.</dd>
</dl>
</li>
</ul>
<a name="MDBSession-java.lang.String-java.io.File-java.util.Map-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MDBSession</h4>
<pre>public&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.263">MDBSession</a>(java.lang.String&nbsp;sessionName,
                  java.io.File&nbsp;root,
                  java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;metadata,
                  java.lang.String&nbsp;jsonSchema)
           throws java.io.IOException</pre>
<div class="block">Create a new session with READ_WRITE mode.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionName</code> - Session name.</dd>
<dd><code>root</code> - The database folder.</dd>
<dd><code>metadata</code> - Session metadata.</dd>
<dd><code>jsonSchema</code> - JSON text representation of the schema.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files. If
             there is any error writing/reading session files.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/mfg/mdb/runtime/SessionMode.html#READ_WRITE"><code>SessionMode.READ_WRITE</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isDebug--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDebug</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.183">isDebug</a>()</pre>
<div class="block">If the session is in debug mode.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if it is debugging is on.</dd>
</dl>
</li>
</ul>
<a name="setDebug-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDebug</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.193">setDebug</a>(boolean&nbsp;debug)</pre>
<div class="block">Set debug mode.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>debug</code> - Debug flag.</dd>
</dl>
</li>
</ul>
<a name="appenderRequested-org.mfg.mdb.runtime.MDB-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appenderRequested</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.276">appenderRequested</a>(<a href="../../../../org/mfg/mdb/runtime/MDB.html" title="class in org.mfg.mdb.runtime">MDB</a>&lt;?&gt;&nbsp;mdb)
                       throws java.io.IOException</pre>
<div class="block">This method is called by MDB generated classes. Do not call it yourself.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mdb</code> - MDB file of the appender.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files.</dd>
</dl>
</li>
</ul>
<a name="cursorCreated-org.mfg.mdb.runtime.ICursor-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cursorCreated</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.291">cursorCreated</a>(<a href="../../../../org/mfg/mdb/runtime/ICursor.html" title="interface in org.mfg.mdb.runtime">ICursor</a>&lt;?&gt;&nbsp;cursor)</pre>
<div class="block">This method is called by MDB generated classes. Do not call it yourself.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cursor</code> - The cursor.</dd>
</dl>
</li>
</ul>
<a name="cursorClosed-org.mfg.mdb.runtime.ICursor-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cursorClosed</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.326">cursorClosed</a>(<a href="../../../../org/mfg/mdb/runtime/ICursor.html" title="interface in org.mfg.mdb.runtime">ICursor</a>&lt;?&gt;&nbsp;cursor)</pre>
<div class="block">This method is called by MDB generated classes. Do not call it yourself.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cursor</code> - The cursor.</dd>
</dl>
</li>
</ul>
<a name="defer-org.mfg.mdb.runtime.ICursor-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defer</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.354">defer</a>(<a href="../../../../org/mfg/mdb/runtime/ICursor.html" title="interface in org.mfg.mdb.runtime">ICursor</a>&lt;?&gt;&nbsp;cursor)</pre>
<div class="block">Defer a cursor. Deferred cursors are closed automatically before to close
 the session. This is useful for cursors you pretend to use in the whole
 session live. However please take a look to the methods
 <a href="../../../../org/mfg/mdb/runtime/MDB.html#thread_cursor--"><code>MDB.thread_cursor()</code></a> and <a href="../../../../org/mfg/mdb/runtime/MDB.html#thread_randomCursor--"><code>MDB.thread_randomCursor()</code></a>,
 probably a reusable thread cursor is what you need.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cursor</code> - The cursor to close automatically at the end of the session.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/mfg/mdb/runtime/MDB.html#thread_cursor--"><code>MDB.thread_cursor()</code></a>, 
<a href="../../../../org/mfg/mdb/runtime/MDB.html#thread_randomCursor--"><code>MDB.thread_randomCursor()</code></a></dd>
</dl>
</li>
</ul>
<a name="disconnect-org.mfg.mdb.runtime.MDB-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnect</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.388">disconnect</a>(<a href="../../../../org/mfg/mdb/runtime/MDB.html" title="class in org.mfg.mdb.runtime">MDB</a>&lt;?&gt;&nbsp;mdb)
                throws java.io.IOException,
                       java.util.concurrent.TimeoutException</pre>
<div class="block"><p>
 Disconnect the MDB file from the session. When you disconnect an MDB
 file, the appender and cursors are closed, so all the resources
 associated to that file are disposed.
 </p>
 <p>
 This method is useful for those databases with a big number of files,
 maybe at certain moment the application needs to read some information of
 from the files but later only a small portion of them is accessed, in
 this case the application can disconnect the not needed files.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mdb</code> - MDB file to disconnect.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files.</dd>
<dd><code>java.util.concurrent.TimeoutException</code> - This exception is sent if the session is busy. Check there is
             not any open cursor before to call this method.</dd>
</dl>
</li>
</ul>
<a name="getMode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMode</h4>
<pre>public&nbsp;<a href="../../../../org/mfg/mdb/runtime/SessionMode.html" title="enum in org.mfg.mdb.runtime">SessionMode</a>&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.482">getMode</a>()</pre>
<div class="block">The session mode.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the mode</dd>
</dl>
</li>
</ul>
<a name="getCloseTimeoutMillis--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCloseTimeoutMillis</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.501">getCloseTimeoutMillis</a>()</pre>
<div class="block"><p>
 The close timeout milliseconds. When the session is closing it waits for
 all the cursors to close, at certain time, if yet there are an open
 cursor then a <code>TimeoutException</code> is sent. By default the timeout is
 set to 3000 milliseconds.
 </p>
 <p>
 If you want to make the session to force the close operation, then set a
 timeout value below or equal to 0.
 </p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The session close timeout. It is below or equal to 0 if the
         session is set to force the close.</dd>
</dl>
</li>
</ul>
<a name="setCloseTimeoutMillis-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCloseTimeoutMillis</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.524">setCloseTimeoutMillis</a>(long&nbsp;closeTimeoutMillis)</pre>
<div class="block"><p>
 Set the close timeout in milliseconds.
 </p>
 <p>
 When the session is closing it waits for all the cursors to close, after
 certain time, if yet there are an open cursor then a
 <code>TimeoutException</code> is sent. By default the timeout is set to 3000
 milliseconds.
 </p>
 <p>
 If you want to make the session to force the close operation, then set a
 timeout value below or equal to 0.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>closeTimeoutMillis</code> - The timeout, below or equal to 0 if you want to force the
            close.</dd>
</dl>
</li>
</ul>
<a name="getProperties--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProperties</h4>
<pre>public&nbsp;java.util.Properties&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.534">getProperties</a>()</pre>
<div class="block">The properties of this database. These properties are an alternative way
 to save descriptive data in your database.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The properties.</dd>
</dl>
</li>
</ul>
<a name="saveProperties--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveProperties</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.545">saveProperties</a>()
                    throws java.io.IOException</pre>
<div class="block">Persist the properties.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files.</dd>
</dl>
</li>
</ul>
<a name="isOpen--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpen</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.566">isOpen</a>()</pre>
<div class="block">If the session is open.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if it is open.</dd>
</dl>
</li>
</ul>
<a name="getOpenCursorCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOpenCursorCount</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.575">getOpenCursorCount</a>()</pre>
<div class="block">Get the number of open cursors in this session.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The cursor count.</dd>
</dl>
</li>
</ul>
<a name="getOpenAppenderCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOpenAppenderCount</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.584">getOpenAppenderCount</a>()</pre>
<div class="block">The number of open appenders in this session.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The open appender count.</dd>
</dl>
</li>
</ul>
<a name="getRoot--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRoot</h4>
<pre>public&nbsp;java.io.File&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.605">getRoot</a>()</pre>
<div class="block">The root of the database.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The database folder.</dd>
</dl>
</li>
</ul>
<a name="getMetadataDir--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadataDir</h4>
<pre>public&nbsp;java.io.File&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.614">getMetadataDir</a>()</pre>
<div class="block">The meta-data folder.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The meta-data directory.</dd>
</dl>
</li>
</ul>
<a name="getFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFile</h4>
<pre>public&nbsp;java.io.File&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.625">getFile</a>(java.lang.String&nbsp;relPath)</pre>
<div class="block">Get a file relative to the root of the database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>relPath</code> - The relative path of the file.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The file at the given <code>relPath</code>.</dd>
</dl>
</li>
</ul>
<a name="getSessionName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSessionName</h4>
<pre>public&nbsp;java.lang.String&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.634">getSessionName</a>()</pre>
<div class="block">The name of the session.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The session name.</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.647">close</a>()
           throws java.io.IOException,
                  java.util.concurrent.TimeoutException</pre>
<div class="block">Close the session. Do not use closed sessions.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files.</dd>
<dd><code>java.util.concurrent.TimeoutException</code> - This exception is sent if the session is busy. Check there is
             not any open cursor before to call this method.</dd>
</dl>
</li>
</ul>
<a name="backup-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>backup</h4>
<pre>public&nbsp;<a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a>&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.687">backup</a>(java.lang.String&nbsp;comment)
                     throws java.io.IOException</pre>
<div class="block">Backup the current state of the database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>comment</code> - A description of this backup.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The backup reference. Use it to restore the backup.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files.</dd>
</dl>
</li>
</ul>
<a name="backupFile-org.mfg.mdb.runtime.MDB-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>backupFile</h4>
<pre>public&nbsp;<a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a>&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.716">backupFile</a>(<a href="../../../../org/mfg/mdb/runtime/MDB.html" title="class in org.mfg.mdb.runtime">MDB</a>&lt;?&gt;&nbsp;mdb,
                                java.lang.String&nbsp;comment)
                         throws java.io.IOException</pre>
<div class="block">Backup the file of the given MDB instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mdb</code> - The file to backup.</dd>
<dd><code>comment</code> - A description of the backup.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The backup reference. Use it to restore the backup.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files.</dd>
</dl>
</li>
</ul>
<a name="backupFile-java.io.File-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>backupFile</h4>
<pre>public&nbsp;<a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a>&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.732">backupFile</a>(java.io.File&nbsp;mdbFile,
                                java.lang.String&nbsp;comment)
                         throws java.io.IOException</pre>
<div class="block">Backup a particular MDB file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mdbFile</code> - The file to backup.</dd>
<dd><code>comment</code> - A description of the backup.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The backup reference. Use it to restore the backup.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files.</dd>
</dl>
</li>
</ul>
<a name="backupFile-java.io.File-java.io.File-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>backupFile</h4>
<pre>public static&nbsp;<a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a>&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.771">backupFile</a>(java.io.File&nbsp;dbRoot,
                                       java.io.File&nbsp;mdbFile,
                                       java.lang.String&nbsp;comment)
                                throws java.io.IOException</pre>
<div class="block">Backup an MDB file. Use this method if there is not an active session. In
 other case, use the session method <a href="../../../../org/mfg/mdb/runtime/MDBSession.html#backupFile-java.io.File-java.lang.String-"><code>backupFile(File, String)</code></a> or
 <a href="../../../../org/mfg/mdb/runtime/MDBSession.html#backupFile-org.mfg.mdb.runtime.MDB-java.lang.String-"><code>backupFile(MDB, String)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbRoot</code> - The root of the database.</dd>
<dd><code>mdbFile</code> - The file to backup.</dd>
<dd><code>comment</code> - The description of the backup.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The backup reference.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files.</dd>
</dl>
</li>
</ul>
<a name="backup-java.io.File-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>backup</h4>
<pre>public static&nbsp;<a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a>&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.809">backup</a>(java.io.File&nbsp;dbRoot,
                                   java.lang.String&nbsp;comment)
                            throws java.io.IOException</pre>
<div class="block">Backup the whole database. Use this method if there is not an active
 session. In other case, use the session method <a href="../../../../org/mfg/mdb/runtime/MDBSession.html#backup-java.lang.String-"><code>backup(String)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbRoot</code> - DB root</dd>
<dd><code>comment</code> - Comment of the backup</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The backup version</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files.</dd>
</dl>
</li>
</ul>
<a name="restore-org.mfg.mdb.runtime.BackupVersion-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restore</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.875">restore</a>(<a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a>&nbsp;version)
             throws java.io.IOException,
                    java.util.concurrent.TimeoutException</pre>
<div class="block"><p>
 Restore the session to the given version. Be careful because the data of
 the database will be deleted and you cannot recover it. If you want, you
 can create a backup before restore a backup.
 </p>
 <p>
 Before to perform the copy, all the deferred cursors will be closed, but
 if there are a common cursor open, then an <code>IOException</code> exception
 is sent, so, be sure you closed all the cursors before. Take in
 consideration that when you restore a backup, maybe there are files that
 are not present in the current session, so the associated MDB will be
 invalid and removed from the session cache.
 </p>
 This method fails (it sends a <code>FileNotFoundException</code>) if the
 backup version was created only for one file (
 <a href="../../../../org/mfg/mdb/runtime/MDBSession.html#backupFile-java.io.File-java.lang.String-"><code>backupFile(File, String)</code></a> ) and the original file does not exist
 any more.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>version</code> - Backup version to restore.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files.</dd>
<dd><code>java.util.concurrent.TimeoutException</code> - This exception is sent if the session is busy. Check there is
             not any open cursor before to call this method.</dd>
</dl>
</li>
</ul>
<a name="readBackupProperties-org.mfg.mdb.runtime.BackupVersion-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readBackupProperties</h4>
<pre>public static&nbsp;java.util.Properties&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.934">readBackupProperties</a>(<a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a>&nbsp;version)
                                                 throws java.io.IOException</pre>
<div class="block">Read the database properties of a particular backup.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>version</code> - The version to read.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The properties of that backup.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files.</dd>
</dl>
</li>
</ul>
<a name="restore-java.io.File-org.mfg.mdb.runtime.BackupVersion-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restore</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.1009">restore</a>(java.io.File&nbsp;dbRoot,
                           <a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a>&nbsp;version)
                    throws java.io.IOException</pre>
<div class="block">Restore a backup. Use this method if there is not an active session. In
 other case, use the session method <a href="../../../../org/mfg/mdb/runtime/MDBSession.html#backup-java.lang.String-"><code>backup(String)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbRoot</code> - The database folder.</dd>
<dd><code>version</code> - The version to restore.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files.</dd>
</dl>
</li>
</ul>
<a name="getBackups-java.nio.file.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBackups</h4>
<pre>public static&nbsp;java.util.List&lt;<a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a>&gt;&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.1040">getBackups</a>(java.nio.file.Path&nbsp;dbPath)
                                                throws java.io.IOException</pre>
<div class="block">Get all the backups of a database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbPath</code> - The path to the database folder.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The list of backups.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files.</dd>
</dl>
</li>
</ul>
<a name="getBackups--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBackups</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a>&gt;&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.1073">getBackups</a>()
                                         throws java.io.IOException</pre>
<div class="block">Get all the backups.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The list of backups.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files. If
             there is any problem writing to the session files.</dd>
</dl>
</li>
</ul>
<a name="flush--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.1119">flush</a>()
           throws java.io.IOException</pre>
<div class="block">Flush the session's appenders. It should be used after a recording
 process, to write pending records.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files. If
             there is any problem writing to the session files.</dd>
</dl>
</li>
</ul>
<a name="getCache--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCache</h4>
<pre>public&nbsp;java.util.Map&lt;java.io.File,<a href="../../../../org/mfg/mdb/runtime/MDB.html" title="class in org.mfg.mdb.runtime">MDB</a>&lt;?&gt;&gt;&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.1139">getCache</a>()</pre>
<div class="block">Get the session cache. This cache maps a file with an MDB instance.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The file and MDB instance map.</dd>
</dl>
</li>
</ul>
<a name="closeAndDelete--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeAndDelete</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.1157">closeAndDelete</a>()
                   throws java.io.IOException,
                          java.util.concurrent.TimeoutException</pre>
<div class="block">Close the session and delete all the files. If there are any cursor open,
 is possible this method will fail, specially in Windows operating
 systems.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of files cannot be deleted.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any problem writing/reading the session files. If
             there is any problem closing/deleting the session files.</dd>
<dd><code>java.util.concurrent.TimeoutException</code> - Exception sent if the session is busy and cannot be closed.
             If you get this exception it means there are open cursors you
             need to close before to call this method.</dd>
</dl>
</li>
</ul>
<a name="delete-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public static&nbsp;int&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.1199">delete</a>(java.io.File&nbsp;tree)</pre>
<div class="block">Utility method to delete a tree (a directory or file).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tree</code> - The tree to delete.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of files cannot be deleted.</dd>
</dl>
</li>
</ul>
<a name="deleteBackup-org.mfg.mdb.runtime.BackupVersion-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deleteBackup</h4>
<pre>public static&nbsp;int&nbsp;<a href="../../../../src-html/org/mfg/mdb/runtime/MDBSession.html#line.1221">deleteBackup</a>(<a href="../../../../org/mfg/mdb/runtime/BackupVersion.html" title="class in org.mfg.mdb.runtime">BackupVersion</a>&nbsp;version)</pre>
<div class="block">Delete the backup files.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>version</code> - Backup version to delete.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>If fails, it returns the number of non deleted files.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MDBSession.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../overview.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/mfg/mdb/runtime/MDBList.html" title="class in org.mfg.mdb.runtime"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/mfg/mdb/runtime/SessionMode.html" title="enum in org.mfg.mdb.runtime"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/mfg/mdb/runtime/MDBSession.html" target="_top">Frames</a></li>
<li><a href="MDBSession.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
